# page_calendar

这是基于 html+js 的提供黑白色天气日历服务的程序，用于制作墨水屏日历，也可以在 oled 屏幕、lcd 屏幕或者其他任何屏幕上使用，理论上兼容任何分辨率（看不看得清楚是另一回事）

**宽屏长这样**
![Alt text](https://tool.error.work/imgur/7o1aOdj.png "optional title")

**小屏幕长这样**
![Alt text](https://tool.error.work/imgur/Pbizf21.png "optional title")

## 基本说明

鉴于手头闲置一个小米平板，就想做一个展示当前天气及日历的小页面，一方面废物利用，一方面可以当一个桌面摆件。如果手头有墨水屏的话，效果应该更好。

## 怎样部署

程序为 HTML 单页面，下载 `index.html` 文件后放到本地，用浏览器打开 `http://127.0.0.1`，或者放到服务器上浏览器访问域名即可。

由于程序会调用和风天气 API，所以设备需要能够联网并且需要修改和风天气 KEY。

如果要展示天气信息，需要自行去和风天气官网申请 KEY 并修改代码中的 KEYS 值，免费账号默认每天调用 1000 次，个人用应该够了，不够的可以多找几个 KEY 填到代码里即可。

## 使用

这个页面接受以下参数：

|参数|说明|示例|默认值|必填|
|---|---|---|---|---|
|local|天气城市|beijing|beijing|非必须|
|darkmode|自动夜间模式|1|默认开启，参数有值即关闭|非必须|

譬如把城市改为厦门：

`http://127.0.0.1?local=xiamen`

## 其他说明
1. 程序自动更新天气信息默认是每天早上 7:00，可点击天气下方的更新时间手动更新；
2. 点击时间可全屏显示；
3. 页面默认天气为北京天气，可在网址后加参数 local 设置位置，参数值为城市拼音；
4. 代码默认开启自动夜间模式，只要检测到 darkmode 参数即关闭自动夜间模式；

## 更新记录
v.20200705  增加自动夜间模式，每天晚上 8：00 到早上 5：00 期间自动切换夜间模式
v.20200706  修改天气数据更新频率为每天 07：30 | 09：30 | 12：30 | 19：30
